
cluster creation on single server for different Q Managers.
 Define Cluster Receiver Channels On QM1 & QM2:
 
 
 runmqsc INDUSTEST
DEFINE CHANNEL(INDUSTEST.CLUSRCVR) CHLTYPE(CLUSRCVR) TRPTYPE(TCP) CONNAME('UATMWSPOCAPP01(1414)') CLUSTER(INDUSCLUSTER)


runmqsc INDUSNET
DEFINE CHANNEL(INDUSNET.CLUSRCVR) CHLTYPE(CLUSRCVR) TRPTYPE(TCP) CONNAME('UATMWSPOCAPP01(1415)') CLUSTER(INDUSCLUSTER)

Note in both QManagers we need to give CLUSTER(MYCLUSTER) same cluster name 

Create & Start Listeners  On QM1 & QM2:

runmqsc QM1
DEFINE LISTENER(INDUSTESTLISTENER) TRPTYPE(TCP) PORT(1414) CONTROL(QMGR)
START LISTENER(LISTENER1)
END

runmqsc QM2
DEFINE LISTENER(INDUSNETLISTENER) TRPTYPE(TCP) PORT(1415) CONTROL(QMGR)
START LISTENER(LISTENER2)
END


Define Cluster Sender Channels On QM2, define a sender to QM1:

runmqsc QM2
DEFINE CHANNEL(INDUSTEST.CLUSSDR) CHLTYPE(CLUSSDR) TRPTYPE(TCP) CONNAME('UATMWSPOCAPP01(1414)') CLUSTER(INDUSCLUSTER)
END


check status of clusers
DEFINE QLOCAL(CLUSTER.INDUQ) CLUSTER(INDUSCLUSTER)  if create any queue in any queue manager it will reflect in other queue mqnqer also.

DISPLAY CLUSQMGR(*)
DISPLAY QCLUSTER(*)










 